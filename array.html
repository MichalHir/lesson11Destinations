<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <!--שיעורי בית:
1. הוסיפו כפתור edit ליד המחיקה. 
2. עצבו את המסך בצורה של CARDS בבוטסטרפ. (כל אלמנט במערך צריך להיות CARD) - אפשר גם להוסיף לו תמונה רנדומלית מpicsum או משהו אחר. בהמשך נחבר את התמונה האמיתית
3. נסו להוסיף גם חיפוש (כפתור חיפוש + תיבת טקסט )  שתציג רק את היעדים שחיפשתם-->
    <!-- <div id="destinationAdding">
        <div class="input-group">
            <input type="text" id="new1" class="form-control" placeholder="destination's name" aria-label="Recipient's username with two button addons">
            <button class="btn btn-primary" onclick="addDes()">add</button>
            <button class="btn btn-outline-secondary" onclick="addDes()" type="button">add</button>
            <button class="btn btn-outline-secondary" type="button">Button</button>
          </div> -->
      <input id="newDes" />
      <button class="btn btn-primary" onclick="addDes()">add</button>
      <button class="btn btn-primary" onclick="popDes()">pop</button>
      <button class="btn btn-primary" onclick="serDes()">search</button>
    </div>
    <div id="destinationsDisplay"></div>
    <!-- <img> src="https://picsum.photos/seed/picsum/200/300" </img> -->

    <script>
      // src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
      let myDestinations = ['Barcelona', 'London', 'Thailand'];
      console.log(myDestinations);
      destinationsDisplay.innerHTML = DestinationsHTML();
      function addDes() {
        if (!myDestinations.includes(newDes.value) && newDes.value!='') {
          myDestinations.push(newDes.value);
          newDes.value = '';
          //   destinationsDisplay.innerHTML = myDestinations.join('<BR>');
          destinationsDisplay.innerHTML = DestinationsHTML();
        } else {
            newDes.value = '';
          alert('already in the list');
        }
      }
      function popDes() {
        myDestinations.pop();
        // destinationsDisplay.innerHTML = myDestinations.join('<BR>');
        destinationsDisplay.innerHTML = DestinationsHTML();
        if (myDestinations.length == 0) {
          destinationsDisplay.innerHTML =
            '<div style="color:red">No Destinations....</div>';
        }
      }
      function serDes() {
        if (myDestinations.includes(newDes.value)) {
            //destinationsDisplay.innerHTML = myDestinations[myDestinations.indexOf(newDes.value)]
            destinationsDisplay.innerHTML = `<div class="card"">
            <div class="card-body" >
                <div>${myDestinations.indexOf(newDes.value) + 1}  ${myDestinations[myDestinations.indexOf(newDes.value)]} <img src="https://picsum.photos/seed/40/20"> </img>
                                  </div>`;
        }
      }
      function delDes(num) {
        myDestinations.splice(num, 1);
        destinationsDisplay.innerHTML = DestinationsHTML();
      }
      function edDes(num) {
        if (newDes.value != '') {
          myDestinations[num] = newDes.value;
        }
        destinationsDisplay.innerHTML = DestinationsHTML();
      }

      function DestinationsHTML() {
        let finalHtml = '';
        for (let i = 0; i < myDestinations.length; i++) {
          const element = myDestinations[i];
          // let elementHTML =
          // '<div>' +(i+1)+' '+ element + '<button onclick="delDes(i)">Delete</button></div>';

          //let elementHTML = `<div>${i + 1} &nbsp; ${element}
          //<button onclick="delDes(${i})">Delete</button><button onclick="edDes(${i})">edit</button>
          //</div>`;
          let elementHTML = `<div class="card"">
            <div class="card-body" >
                <div>${i + 1} &nbsp ${element} <img src="https://picsum.photos/seed/${element}/40/20"> </img>
                                    <button class="btn btn-danger" onclick="delDes(${i})">Delete</button><button class="btn btn-primary" onclick="edDes(${i})">edit</button>
                                  </div>`;
          finalHtml = finalHtml + elementHTML;
        }
        return finalHtml;
      }
      //<img> href="https://picsum.photos/seed/picsum/200/300" </img>
    </script>
  </body>
</html>
