<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    Name:<input id="newDestination">
    <br>
    Score:<input id="newScore">
    <br>
    Image:<input id="newImage">
    <br>
    <button onclick="addDestination()">Add</button>
    <br>
    <br>
    <div id="display">


    </div>
    
    <a id="myLink" href="" target="_blank">Link to restaurant</a>
    <script>
        let myDestinations = [{
            name: 'Barcelona',
            score: 8.5,
            description: 'Barcelona is the capital of Catalunya.',
            image: 'https://media.timeout.com/images/105992807/750/422/image.webp',
            restaurants: [
                {
                    name: 'Macchina Pasta Bar',
                    location:'https://maps.app.goo.gl/diVJ5XbrbgmKTxhXA'
                },
        ]
        },
        {
            name: 'Los Angeles',
            score: 7.9,
            description: 'Los Angeles is in the west coast of the USA',
            image: 'https://cdn.britannica.com/22/154122-050-B1D0A7FD/Skyline-Los-Angeles-California.jpg',
            restaurants: ['Mcdonadls', 'Wendys']
        },
        {
            name: 'New York',
            score: 8.2,
            description: 'New York is the biggest city in the USA',
            image: 'https://cdn.britannica.com/61/93061-050-99147DCE/Statue-of-Liberty-Island-New-York-Bay.jpg',
            restaurants: ['Fifth Avenue', 'AAAA']
        }
        ]
        displayDestinations()

        
        function addDestination() {
            let newDest = {
                name: newDestination.value,
                score: Number(newScore.value),                
                image: newImage.value
            }
            myDestinations.push(newDest)
            displayDestinations()
        }

        function singleDestinationHTML(destination){
            // replace this with a function that goes over all the restarants
            let myRestaurantHTML = `<a target="_blank" href="${destination.restaurants[0].location}">${destination.restaurants[0].name} </a>`
            return `${destination.name} - ${destination.score} - ${myRestaurantHTML}                                     
                                        <img src="${destination.image}" style="width:200px">
                                         <br>`
        }

        function displayDestinations() {
            let finalStr = ''
            for (let i = 0; i < myDestinations.length; i++) {
                const destination = myDestinations[i];
                finalStr = finalStr +  singleDestinationHTML(destination)             
            }
            display.innerHTML = finalStr
        }
        myLink.href = myDestinations[0].restaurants[0].location
    </script>
</body>
</html>